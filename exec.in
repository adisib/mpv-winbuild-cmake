#!/bin/bash
export O_PATH="$PATH"
export PATH="@CMAKE_INSTALL_PREFIX@/bin:@RUSTUP_LOCATION@/.cargo/bin:$PATH"
export PKG_CONFIG="pkgconf --static"
export PKG_CONFIG_LIBDIR="@MINGW_INSTALL_PREFIX@/lib/pkgconfig"
export RUSTUP_HOME="@RUSTUP_LOCATION@/.rustup"
export CARGO_HOME="@RUSTUP_LOCATION@/.cargo"
export LD_PRELOAD="@MALLOC@"
export CCACHE_DIR="@MINGW_INSTALL_PREFIX@/ccache"
export LLVM_PROFILE_FILE="/dev/null"
# disable profraw output by default, ensure that only clang and lld can explicitly enable profraw output by wrapper

#export CFLAGS="-O3 -fomit-frame-pointer -finline-functions-called-once -fmerge-constants -ftree-dce -ftree-dse -ftree-loop-vectorize -ftree-vectorize -fdce -fdse -march=znver3 -DNDEBUG"
#export CXXFLAGS="-O3 -fomit-frame-pointer -finline-functions-called-once -fmerge-constants -ftree-dce -ftree-dse -ftree-loop-vectorize -ftree-vectorize -fdce -fdse -march=znver3 -DNDEBUG"
export CFLAGS="-O3 -fomit-frame-pointer -finline-functions-called-once -fmerge-constants -ftree-dce -ftree-dse -ftree-loop-vectorize -ftree-vectorize -fdce -fdse -DNDEBUG"
export CXXFLAGS="-O3 -fomit-frame-pointer -finline-functions-called-once -fmerge-constants -ftree-dce -ftree-dse -ftree-loop-vectorize -ftree-vectorize -fdce -fdse -DNDEBUG"


eval $*
